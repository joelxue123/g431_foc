ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"scope.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ScopeProDebug,"ax",%progbits
  18              		.align	1
  19              		.global	ScopeProDebug
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	ScopeProDebug:
  26              	.LFB333:
  27              		.file 1 "Src/scope.c"
   1:Src/scope.c   **** #include "scope.h"
   2:Src/scope.c   **** #include "global.h"
   3:Src/scope.c   **** #define RECODER_LEN		    100 		// ���ݼ�¼���ֳ���
   4:Src/scope.c   **** #define RECODER_LEN_HALF	50 			// ���ݼ�¼���ֳ��ȵ�һ��
   5:Src/scope.c   **** #define SCPE_TXD_LEN	    80      //(18+6)			// ���ͻ��泤�ȣ�Byte��
   6:Src/scope.c   **** #define DATA_BEG_POS	    0       // ������ʼλ��
   7:Src/scope.c   **** s16 g_UserDefinedBuf[RECODER_LEN] = {0};		  // �Զ������ݼ�¼������
   8:Src/scope.c   **** volatile u8 flag_rev_modbus = 0; 
   9:Src/scope.c   **** volatile s16 modbus_rly_delay_ms = 0; 
  10:Src/scope.c   **** u8 g_UserDefined_TxBuf[SCPE_TXD_LEN] = {0};	// �Զ������ݷ��ͻ���
  11:Src/scope.c   **** u32 g_Rec_pos = 0;						          // ��ǰ��¼����λ��
  12:Src/scope.c   **** u32 g_TxBuf_Pos = DATA_BEG_POS;			    // ��ǰ���ͻ���λ��
  13:Src/scope.c   **** u32 g_TxBufDebug = 0;			    // ��ǰ���ͻ���λ��
  14:Src/scope.c   **** u8 g_bWaitToSend_UserDefined = 0;
  15:Src/scope.c   **** 
  16:Src/scope.c   **** extern int g_flag_1;
  17:Src/scope.c   **** extern volatile s32 s_Disable_Delay;
  18:Src/scope.c   **** extern volatile s32 profile_flag;
  19:Src/scope.c   **** extern volatile float p3_f;
  20:Src/scope.c   **** extern volatile int G_hall_ture_value;
  21:Src/scope.c   **** 
  22:Src/scope.c   **** extern int observer_ElectricAngle;
  23:Src/scope.c   **** extern volatile  int delta_alpha;
  24:Src/scope.c   **** extern volatile  int delata_beta;
  25:Src/scope.c   **** extern int observer_speed;
  26:Src/scope.c   **** extern 	float L,temp_L;
  27:Src/scope.c   **** extern s16 pll_estimated_spd;
  28:Src/scope.c   **** extern volatile int estimated_SPD_filterd;
  29:Src/scope.c   **** extern float pll_estimated_phase;
  30:Src/scope.c   **** extern int g_measured_phase;
  31:Src/scope.c   **** extern int s_Encoder_Inc;
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 2


  32:Src/scope.c   **** 
  33:Src/scope.c   **** #define ENCODER_BASE_SPEED  (30*  1000000  /100   / 23000)
  34:Src/scope.c   **** void ScopeProDebug(void)//����ʱ���������� 
  35:Src/scope.c   **** {
  28              		.loc 1 35 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 70B5     		push	{r4, r5, r6, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35              		.cfi_offset 4, -16
  36              		.cfi_offset 5, -12
  37              		.cfi_offset 6, -8
  38              		.cfi_offset 14, -4
  39              	.LVL0:
  36:Src/scope.c   **** 	//ֱ��д���µ�һ֡	
  37:Src/scope.c   **** 	s16 i=0;	
  38:Src/scope.c   **** 	g_TxBuf_Pos = 0;
  40              		.loc 1 38 0
  41 0002 224C     		ldr	r4, .L3
  42 0004 0022     		movs	r2, #0
  43 0006 2260     		str	r2, [r4]
  39:Src/scope.c   **** 	i=0;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_POS_SET_PU];
  44              		.loc 1 39 0
  45 0008 2149     		ldr	r1, .L3+4
  46 000a B1F84800 		ldrh	r0, [r1, #72]
  47 000e 214B     		ldr	r3, .L3+8
  48 0010 1880     		strh	r0, [r3]	@ movhi
  49              	.LVL1:
  40:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_PROFILE_POS_PU];
  50              		.loc 1 40 0
  51 0012 B1F86000 		ldrh	r0, [r1, #96]
  52 0016 5880     		strh	r0, [r3, #2]	@ movhi
  53              	.LVL2:
  41:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_POS_ACT_PU];
  54              		.loc 1 41 0
  55 0018 B1F84C00 		ldrh	r0, [r1, #76]
  56 001c 9880     		strh	r0, [r3, #4]	@ movhi
  57              	.LVL3:
  42:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_SPDREG_REF_PU];//g_CmdMap[CMD_SPD
  58              		.loc 1 42 0
  59 001e B1F85C00 		ldrh	r0, [r1, #92]
  60 0022 D880     		strh	r0, [r3, #6]	@ movhi
  61              	.LVL4:
  43:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) =  g_CmdMap[CMD_SPD_ACT_PU];//s_Encoder_Inc * EN
  62              		.loc 1 43 0
  63 0024 B1F85000 		ldrh	r0, [r1, #80]
  64 0028 1881     		strh	r0, [r3, #8]	@ movhi
  65              	.LVL5:
  44:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_SPD_ACT_PU];//estimated_SPD_filte
  66              		.loc 1 44 0
  67 002a B1F85000 		ldrh	r0, [r1, #80]
  68 002e 5881     		strh	r0, [r3, #10]	@ movhi
  69              	.LVL6:
  45:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_IA_Raw*PU_REFERENCE/(*g_pCur_ref_base_mA);//
  70              		.loc 1 45 0
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 3


  71 0030 1948     		ldr	r0, .L3+12
  72 0032 B0F90000 		ldrsh	r0, [r0]
  73 0036 8003     		lsls	r0, r0, #14
  74 0038 184D     		ldr	r5, .L3+16
  75 003a 2D68     		ldr	r5, [r5]
  76 003c 2E68     		ldr	r6, [r5]
  77 003e 90FBF6F0 		sdiv	r0, r0, r6
  78 0042 9881     		strh	r0, [r3, #12]	@ movhi
  79              	.LVL7:
  46:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_IB_Raw*PU_REFERENCE/(*g_pCur_ref_base_mA);//
  80              		.loc 1 46 0
  81 0044 1648     		ldr	r0, .L3+20
  82 0046 B0F90000 		ldrsh	r0, [r0]
  83 004a 8003     		lsls	r0, r0, #14
  84 004c 2D68     		ldr	r5, [r5]
  85 004e 90FBF5F0 		sdiv	r0, r0, r5
  86 0052 D881     		strh	r0, [r3, #14]	@ movhi
  87              	.LVL8:
  47:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = 0*PU_REFERENCE/(*g_pCur_ref_base_mA);//g_IB_Ra
  88              		.loc 1 47 0
  89 0054 1A82     		strh	r2, [r3, #16]	@ movhi
  90              	.LVL9:
  48:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_ElectricAngle ;//g_ElectricAngle_15bit_Raw;/
  91              		.loc 1 48 0
  92 0056 1348     		ldr	r0, .L3+24
  93 0058 0068     		ldr	r0, [r0]
  94 005a 5882     		strh	r0, [r3, #18]	@ movhi
  95              	.LVL10:
  49:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_SysStatus;
  96              		.loc 1 49 0
  97 005c 1248     		ldr	r0, .L3+28
  98 005e 0088     		ldrh	r0, [r0]
  99 0060 9882     		strh	r0, [r3, #20]	@ movhi
 100              	.LVL11:
  50:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_ERROR];
 101              		.loc 1 50 0
 102 0062 B1F85400 		ldrh	r0, [r1, #84]
 103 0066 D882     		strh	r0, [r3, #22]	@ movhi
 104              	.LVL12:
  51:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_TEMP];
 105              		.loc 1 51 0
 106 0068 B1F85600 		ldrh	r0, [r1, #86]
 107 006c 1883     		strh	r0, [r3, #24]	@ movhi
 108              	.LVL13:
  52:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = ((MU_Value_base_0)>>16)&0xFFFF;
 109              		.loc 1 52 0
 110 006e 0F4D     		ldr	r5, .L3+32
 111 0070 2868     		ldr	r0, [r5]
 112 0072 0014     		asrs	r0, r0, #16
 113 0074 5883     		strh	r0, [r3, #26]	@ movhi
 114              	.LVL14:
  53:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = (MU_Value_base_0)&0xFFFF;
 115              		.loc 1 53 0
 116 0076 2868     		ldr	r0, [r5]
 117 0078 9883     		strh	r0, [r3, #28]	@ movhi
 118              	.LVL15:
  54:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_FORCE_ACT_PU];
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 4


 119              		.loc 1 54 0
 120 007a B1F85210 		ldrh	r1, [r1, #82]
 121 007e D983     		strh	r1, [r3, #30]	@ movhi
 122              	.LVL16:
  55:Src/scope.c   **** 	i+=2;
  56:Src/scope.c   **** 	g_TxBuf_Pos+=i;
 123              		.loc 1 56 0
 124 0080 2020     		movs	r0, #32
 125 0082 2060     		str	r0, [r4]
  57:Src/scope.c   **** 	UART_PushFrame(g_TxBuf_Pos,CMDTYPE_DEBUG,0x00,&g_UserDefined_TxBuf[0]);	
 126              		.loc 1 57 0
 127 0084 3821     		movs	r1, #56
 128 0086 FFF7FEFF 		bl	UART_PushFrame
 129              	.LVL17:
  58:Src/scope.c   **** }
 130              		.loc 1 58 0
 131 008a 70BD     		pop	{r4, r5, r6, pc}
 132              	.L4:
 133              		.align	2
 134              	.L3:
 135 008c 00000000 		.word	.LANCHOR0
 136 0090 00000000 		.word	g_CmdMap
 137 0094 00000000 		.word	.LANCHOR1
 138 0098 00000000 		.word	g_IA_Raw
 139 009c 00000000 		.word	g_pCur_ref_base_mA
 140 00a0 00000000 		.word	g_IB_Raw
 141 00a4 00000000 		.word	g_ElectricAngle
 142 00a8 00000000 		.word	g_SysStatus
 143 00ac 00000000 		.word	MU_Value_base_0
 144              		.cfi_endproc
 145              	.LFE333:
 147              		.section	.text.ScopeProDebug_2,"ax",%progbits
 148              		.align	1
 149              		.global	ScopeProDebug_2
 150              		.syntax unified
 151              		.thumb
 152              		.thumb_func
 153              		.fpu fpv4-sp-d16
 155              	ScopeProDebug_2:
 156              	.LFB334:
  59:Src/scope.c   **** void ScopeProDebug_2(void)//����ʱ���������� 
  60:Src/scope.c   **** {
 157              		.loc 1 60 0
 158              		.cfi_startproc
 159              		@ args = 0, pretend = 0, frame = 0
 160              		@ frame_needed = 0, uses_anonymous_args = 0
 161 0000 08B5     		push	{r3, lr}
 162              	.LCFI1:
 163              		.cfi_def_cfa_offset 8
 164              		.cfi_offset 3, -8
 165              		.cfi_offset 14, -4
 166              	.LVL18:
  61:Src/scope.c   **** 	//ֱ��д���µ�һ֡	
  62:Src/scope.c   **** 	s16 i=0;	
  63:Src/scope.c   **** 	g_TxBuf_Pos = 0;
  64:Src/scope.c   **** 	i=0;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_POS_ACT_PU];
 167              		.loc 1 64 0
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 5


 168 0002 154A     		ldr	r2, .L7
 169 0004 B2F84C10 		ldrh	r1, [r2, #76]
 170 0008 144B     		ldr	r3, .L7+4
 171 000a 1980     		strh	r1, [r3]	@ movhi
 172              	.LVL19:
  65:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_SPDREG_REF_PU];
 173              		.loc 1 65 0
 174 000c B2F85C10 		ldrh	r1, [r2, #92]
 175 0010 5980     		strh	r1, [r3, #2]	@ movhi
 176              	.LVL20:
  66:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_SPD_ACT_PU];
 177              		.loc 1 66 0
 178 0012 B2F85010 		ldrh	r1, [r2, #80]
 179 0016 9980     		strh	r1, [r3, #4]	@ movhi
 180              	.LVL21:
  67:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_CUR_SET_PU];
 181              		.loc 1 67 0
 182 0018 B2F84210 		ldrh	r1, [r2, #66]
 183 001c D980     		strh	r1, [r3, #6]	@ movhi
 184              	.LVL22:
  68:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_CUR_ACT_PU];
 185              		.loc 1 68 0
 186 001e B2F84E10 		ldrh	r1, [r2, #78]
 187 0022 1981     		strh	r1, [r3, #8]	@ movhi
 188              	.LVL23:
  69:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_FORCE_ACT_PU];
 189              		.loc 1 69 0
 190 0024 B2F85210 		ldrh	r1, [r2, #82]
 191 0028 5981     		strh	r1, [r3, #10]	@ movhi
 192              	.LVL24:
  70:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_ERROR];
 193              		.loc 1 70 0
 194 002a B2F85410 		ldrh	r1, [r2, #84]
 195 002e 9981     		strh	r1, [r3, #12]	@ movhi
 196              	.LVL25:
  71:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_TEMP];
 197              		.loc 1 71 0
 198 0030 B2F85620 		ldrh	r2, [r2, #86]
 199 0034 DA81     		strh	r2, [r3, #14]	@ movhi
 200              	.LVL26:
  72:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = ((MU_Value_base_0)>>16)&0xFFFF;
 201              		.loc 1 72 0
 202 0036 0A49     		ldr	r1, .L7+8
 203 0038 0A68     		ldr	r2, [r1]
 204 003a 1214     		asrs	r2, r2, #16
 205 003c 1A82     		strh	r2, [r3, #16]	@ movhi
 206              	.LVL27:
  73:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = (MU_Value_base_0)&0xFFFF;
 207              		.loc 1 73 0
 208 003e 0A68     		ldr	r2, [r1]
 209 0040 5A82     		strh	r2, [r3, #18]	@ movhi
 210              	.LVL28:
  74:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_SysStatus;
 211              		.loc 1 74 0
 212 0042 084A     		ldr	r2, .L7+12
 213 0044 1288     		ldrh	r2, [r2]
 214 0046 9A82     		strh	r2, [r3, #20]	@ movhi
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 6


 215              	.LVL29:
  75:Src/scope.c   **** 	i+=2;g_TxBuf_Pos+=i;
 216              		.loc 1 75 0
 217 0048 1620     		movs	r0, #22
 218 004a 074A     		ldr	r2, .L7+16
 219 004c 1060     		str	r0, [r2]
  76:Src/scope.c   **** 	UART_PushFrame(g_TxBuf_Pos,CMDTYPE_DEBUG_2,0x00,&g_UserDefined_TxBuf[0]);	
 220              		.loc 1 76 0
 221 004e 0022     		movs	r2, #0
 222 0050 3C21     		movs	r1, #60
 223 0052 FFF7FEFF 		bl	UART_PushFrame
 224              	.LVL30:
  77:Src/scope.c   **** }
 225              		.loc 1 77 0
 226 0056 08BD     		pop	{r3, pc}
 227              	.L8:
 228              		.align	2
 229              	.L7:
 230 0058 00000000 		.word	g_CmdMap
 231 005c 00000000 		.word	.LANCHOR1
 232 0060 00000000 		.word	MU_Value_base_0
 233 0064 00000000 		.word	g_SysStatus
 234 0068 00000000 		.word	.LANCHOR0
 235              		.cfi_endproc
 236              	.LFE334:
 238              		.section	.text.ReturnCLibADC_Frame,"ax",%progbits
 239              		.align	1
 240              		.global	ReturnCLibADC_Frame
 241              		.syntax unified
 242              		.thumb
 243              		.thumb_func
 244              		.fpu fpv4-sp-d16
 246              	ReturnCLibADC_Frame:
 247              	.LFB335:
  78:Src/scope.c   **** void ReturnCLibADC_Frame(void)//����ʱ���������� 
  79:Src/scope.c   **** {
 248              		.loc 1 79 0
 249              		.cfi_startproc
 250              		@ args = 0, pretend = 0, frame = 0
 251              		@ frame_needed = 0, uses_anonymous_args = 0
 252 0000 08B5     		push	{r3, lr}
 253              	.LCFI2:
 254              		.cfi_def_cfa_offset 8
 255              		.cfi_offset 3, -8
 256              		.cfi_offset 14, -4
 257              	.LVL31:
  80:Src/scope.c   **** 	//ֱ��д���µ�һ֡	
  81:Src/scope.c   **** 	s16 i=0;	
  82:Src/scope.c   **** 	g_TxBuf_Pos = 0;
  83:Src/scope.c   **** 	i=0;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_POS_ACT_PU];
 258              		.loc 1 83 0
 259 0002 0F4A     		ldr	r2, .L11
 260 0004 B2F84C10 		ldrh	r1, [r2, #76]
 261 0008 0E4B     		ldr	r3, .L11+4
 262 000a 1980     		strh	r1, [r3]	@ movhi
 263              	.LVL32:
  84:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_POS_ADC_12BIT];
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 7


 264              		.loc 1 84 0
 265 000c B2F86410 		ldrh	r1, [r2, #100]
 266 0010 5980     		strh	r1, [r3, #2]	@ movhi
 267              	.LVL33:
  85:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_CUR_ACT_PU];
 268              		.loc 1 85 0
 269 0012 B2F84E10 		ldrh	r1, [r2, #78]
 270 0016 9980     		strh	r1, [r3, #4]	@ movhi
 271              	.LVL34:
  86:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_SPD_ACT_PU];
 272              		.loc 1 86 0
 273 0018 B2F85010 		ldrh	r1, [r2, #80]
 274 001c D980     		strh	r1, [r3, #6]	@ movhi
 275              	.LVL35:
  87:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_SPD_SET_PU];
 276              		.loc 1 87 0
 277 001e B2F84610 		ldrh	r1, [r2, #70]
 278 0022 1981     		strh	r1, [r3, #8]	@ movhi
 279              	.LVL36:
  88:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_SysStatus;
 280              		.loc 1 88 0
 281 0024 0849     		ldr	r1, .L11+8
 282 0026 0988     		ldrh	r1, [r1]
 283 0028 5981     		strh	r1, [r3, #10]	@ movhi
 284              	.LVL37:
  89:Src/scope.c   **** 	i+=2;*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[CMD_ERROR];
 285              		.loc 1 89 0
 286 002a B2F85420 		ldrh	r2, [r2, #84]
 287 002e 9A81     		strh	r2, [r3, #12]	@ movhi
 288              	.LVL38:
  90:Src/scope.c   **** 	i+=2;
  91:Src/scope.c   **** 	g_TxBuf_Pos+=i;
 289              		.loc 1 91 0
 290 0030 0E20     		movs	r0, #14
 291 0032 064A     		ldr	r2, .L11+12
 292 0034 1060     		str	r0, [r2]
  92:Src/scope.c   **** 	UART_PushFrame(g_TxBuf_Pos,CMDTYPE_ADC_CLIB,0x00,&g_UserDefined_TxBuf[0]);	
 293              		.loc 1 92 0
 294 0036 0022     		movs	r2, #0
 295 0038 3921     		movs	r1, #57
 296 003a FFF7FEFF 		bl	UART_PushFrame
 297              	.LVL39:
  93:Src/scope.c   **** }
 298              		.loc 1 93 0
 299 003e 08BD     		pop	{r3, pc}
 300              	.L12:
 301              		.align	2
 302              	.L11:
 303 0040 00000000 		.word	g_CmdMap
 304 0044 00000000 		.word	.LANCHOR1
 305 0048 00000000 		.word	g_SysStatus
 306 004c 00000000 		.word	.LANCHOR0
 307              		.cfi_endproc
 308              	.LFE335:
 310              		.section	.text.Return_state_frame,"ax",%progbits
 311              		.align	1
 312              		.global	Return_state_frame
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 8


 313              		.syntax unified
 314              		.thumb
 315              		.thumb_func
 316              		.fpu fpv4-sp-d16
 318              	Return_state_frame:
 319              	.LFB336:
  94:Src/scope.c   **** //����״̬��Ϣ֡,״̬��Ϣ֡��ÿһλ����������
  95:Src/scope.c   **** void Return_state_frame(u8 cmd_type,u8 index) 
  96:Src/scope.c   **** {
 320              		.loc 1 96 0
 321              		.cfi_startproc
 322              		@ args = 0, pretend = 0, frame = 0
 323              		@ frame_needed = 0, uses_anonymous_args = 0
 324              	.LVL40:
 325 0000 70B5     		push	{r4, r5, r6, lr}
 326              	.LCFI3:
 327              		.cfi_def_cfa_offset 16
 328              		.cfi_offset 4, -16
 329              		.cfi_offset 5, -12
 330              		.cfi_offset 6, -8
 331              		.cfi_offset 14, -4
 332 0002 0A46     		mov	r2, r1
 333              	.LVL41:
  97:Src/scope.c   **** 	//ֱ��д���µ�һ֡	
  98:Src/scope.c   **** 	s16 i=0,j=0;	
  99:Src/scope.c   **** 	g_TxBuf_Pos = 0;
 334              		.loc 1 99 0
 335 0004 234B     		ldr	r3, .L23
 336 0006 0021     		movs	r1, #0
 337              	.LVL42:
 338 0008 1960     		str	r1, [r3]
 100:Src/scope.c   **** 	if(g_CmdMap[SYS_STATA_FRAME_NUM]<0)
 339              		.loc 1 100 0
 340 000a 234B     		ldr	r3, .L23+4
 341 000c B3F8C032 		ldrh	r3, [r3, #704]
 342 0010 13F4004F 		tst	r3, #32768
 343 0014 0CD1     		bne	.L21
 344              	.L14:
 101:Src/scope.c   **** 	{
 102:Src/scope.c   **** 		g_CmdMap[SYS_STATA_FRAME_NUM] = 0;
 103:Src/scope.c   **** 	}
 104:Src/scope.c   **** 	if(g_CmdMap[SYS_STATA_FRAME_NUM]>15)
 345              		.loc 1 104 0
 346 0016 204B     		ldr	r3, .L23+4
 347 0018 B3F8C032 		ldrh	r3, [r3, #704]
 348 001c 1BB2     		sxth	r3, r3
 349 001e 0F2B     		cmp	r3, #15
 350 0020 03DD     		ble	.L15
 105:Src/scope.c   **** 	{
 106:Src/scope.c   **** 		g_CmdMap[SYS_STATA_FRAME_NUM] = 15;
 351              		.loc 1 106 0
 352 0022 1D4B     		ldr	r3, .L23+4
 353 0024 0F21     		movs	r1, #15
 354 0026 A3F8C012 		strh	r1, [r3, #704]	@ movhi
 355              	.L15:
  96:Src/scope.c   **** 	//ֱ��д���µ�һ֡	
 356              		.loc 1 96 0 discriminator 1
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 9


 357 002a 0023     		movs	r3, #0
 358 002c 1E46     		mov	r6, r3
 359 002e 0AE0     		b	.L16
 360              	.L21:
 102:Src/scope.c   **** 	}
 361              		.loc 1 102 0
 362 0030 194B     		ldr	r3, .L23+4
 363 0032 A3F8C012 		strh	r1, [r3, #704]	@ movhi
 364 0036 EEE7     		b	.L14
 365              	.LVL43:
 366              	.L17:
 107:Src/scope.c   **** 	}
 108:Src/scope.c   **** 	for(j=0;j<g_CmdMap[SYS_STATA_FRAME_NUM];j++)
 109:Src/scope.c   **** 	{
 110:Src/scope.c   **** 		if(g_CmdMap[SYS_STATA_FRAME_SET(j)]<0x0200 && g_CmdMap[SYS_STATA_FRAME_SET(j)]>0x0000)
 111:Src/scope.c   **** 		{
 112:Src/scope.c   **** 			*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = g_CmdMap[g_CmdMap[SYS_STATA_FRAME_SET(j)]];i+=2;
 113:Src/scope.c   **** 		}
 114:Src/scope.c   **** 		else
 115:Src/scope.c   **** 		{
 116:Src/scope.c   **** 			*(u16*)(&g_UserDefined_TxBuf[g_TxBuf_Pos+i]) = 0x0000;i+=2;
 367              		.loc 1 116 0
 368 0038 1849     		ldr	r1, .L23+8
 369 003a 0024     		movs	r4, #0
 370 003c 8C53     		strh	r4, [r1, r6]	@ movhi
 371 003e 0236     		adds	r6, r6, #2
 372              	.LVL44:
 373 0040 36B2     		sxth	r6, r6
 374              	.LVL45:
 375              	.L18:
 108:Src/scope.c   **** 	{
 376              		.loc 1 108 0 discriminator 2
 377 0042 0133     		adds	r3, r3, #1
 378              	.LVL46:
 379 0044 1BB2     		sxth	r3, r3
 380              	.LVL47:
 381              	.L16:
 108:Src/scope.c   **** 	{
 382              		.loc 1 108 0 is_stmt 0 discriminator 1
 383 0046 144C     		ldr	r4, .L23+4
 384 0048 B4F8C042 		ldrh	r4, [r4, #704]
 385 004c 24B2     		sxth	r4, r4
 386 004e 9C42     		cmp	r4, r3
 387 0050 18DD     		ble	.L22
 110:Src/scope.c   **** 		{
 388              		.loc 1 110 0 is_stmt 1
 389 0052 03F26115 		addw	r5, r3, #353
 390 0056 1049     		ldr	r1, .L23+4
 391 0058 31F81540 		ldrh	r4, [r1, r5, lsl #1]
 392 005c 24B2     		sxth	r4, r4
 393 005e B4F5007F 		cmp	r4, #512
 394 0062 E9DA     		bge	.L17
 110:Src/scope.c   **** 		{
 395              		.loc 1 110 0 is_stmt 0 discriminator 1
 396 0064 31F81540 		ldrh	r4, [r1, r5, lsl #1]
 397 0068 24B2     		sxth	r4, r4
 398 006a 002C     		cmp	r4, #0
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 10


 399 006c E4DD     		ble	.L17
 112:Src/scope.c   **** 		}
 400              		.loc 1 112 0 is_stmt 1
 401 006e 0C46     		mov	r4, r1
 402 0070 31F81510 		ldrh	r1, [r1, r5, lsl #1]
 403 0074 09B2     		sxth	r1, r1
 404 0076 34F81140 		ldrh	r4, [r4, r1, lsl #1]
 405 007a 0849     		ldr	r1, .L23+8
 406 007c 8C53     		strh	r4, [r1, r6]	@ movhi
 407 007e 0236     		adds	r6, r6, #2
 408              	.LVL48:
 409 0080 36B2     		sxth	r6, r6
 410              	.LVL49:
 411 0082 DEE7     		b	.L18
 412              	.L22:
 117:Src/scope.c   **** 		}			
 118:Src/scope.c   **** 	}
 119:Src/scope.c   **** 	g_TxBuf_Pos+=i;
 413              		.loc 1 119 0
 414 0084 034B     		ldr	r3, .L23
 415              	.LVL50:
 416 0086 1E60     		str	r6, [r3]
 120:Src/scope.c   **** 	UART_PushFrame(g_TxBuf_Pos,cmd_type,index,&g_UserDefined_TxBuf[0]);	
 417              		.loc 1 120 0
 418 0088 044B     		ldr	r3, .L23+8
 419 008a 0146     		mov	r1, r0
 420 008c F0B2     		uxtb	r0, r6
 421              	.LVL51:
 422 008e FFF7FEFF 		bl	UART_PushFrame
 423              	.LVL52:
 121:Src/scope.c   **** }
 424              		.loc 1 121 0
 425 0092 70BD     		pop	{r4, r5, r6, pc}
 426              	.LVL53:
 427              	.L24:
 428              		.align	2
 429              	.L23:
 430 0094 00000000 		.word	.LANCHOR0
 431 0098 00000000 		.word	g_CmdMap
 432 009c 00000000 		.word	.LANCHOR1
 433              		.cfi_endproc
 434              	.LFE336:
 436              		.section	.text.Return_OldFrame_state,"ax",%progbits
 437              		.align	1
 438              		.global	Return_OldFrame_state
 439              		.syntax unified
 440              		.thumb
 441              		.thumb_func
 442              		.fpu fpv4-sp-d16
 444              	Return_OldFrame_state:
 445              	.LFB337:
 122:Src/scope.c   **** //����LA��ָ��,���ذ���״̬��Ϣ
 123:Src/scope.c   **** void Return_OldFrame_state(u8 cmd_type,u8 index,u8 data) 
 124:Src/scope.c   **** {
 446              		.loc 1 124 0
 447              		.cfi_startproc
 448              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 11


 449              		@ frame_needed = 0, uses_anonymous_args = 0
 450              	.LVL54:
 451 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 452              	.LCFI4:
 453              		.cfi_def_cfa_offset 24
 454              		.cfi_offset 3, -24
 455              		.cfi_offset 4, -20
 456              		.cfi_offset 5, -16
 457              		.cfi_offset 6, -12
 458              		.cfi_offset 7, -8
 459              		.cfi_offset 14, -4
 125:Src/scope.c   **** 	//ֱ��д���µ�һ֡	
 126:Src/scope.c   **** 	g_TxBuf_Pos = 0;
 460              		.loc 1 126 0
 461 0002 2C4B     		ldr	r3, .L33
 462 0004 0024     		movs	r4, #0
 463 0006 1C60     		str	r4, [r3]
 127:Src/scope.c   **** 	s16 pos_set = (s32)g_CmdMap[CMD_POS_SET_PU]*2000/PU_REFERENCE;
 464              		.loc 1 127 0
 465 0008 2B4B     		ldr	r3, .L33+4
 466 000a B3F84830 		ldrh	r3, [r3, #72]
 467 000e 1CB2     		sxth	r4, r3
 468 0010 4FF4FA63 		mov	r3, #2000
 469 0014 03FB04F3 		mul	r3, r3, r4
 470 0018 002B     		cmp	r3, #0
 471 001a 3EDB     		blt	.L30
 472              	.L26:
 473 001c 9E13     		asrs	r6, r3, #14
 474 001e 0FFA86FC 		sxth	ip, r6
 475              	.LVL55:
 128:Src/scope.c   **** 	s16 pos_act = (s32)g_CmdMap[CMD_POS_ACT_PU]*2000/PU_REFERENCE;
 476              		.loc 1 128 0
 477 0022 254B     		ldr	r3, .L33+4
 478 0024 B3F84C30 		ldrh	r3, [r3, #76]
 479 0028 1CB2     		sxth	r4, r3
 480 002a 4FF4FA63 		mov	r3, #2000
 481 002e 03FB04F3 		mul	r3, r3, r4
 482 0032 002B     		cmp	r3, #0
 483 0034 35DB     		blt	.L31
 484              	.L27:
 485 0036 9D13     		asrs	r5, r3, #14
 486 0038 2FB2     		sxth	r7, r5
 487              	.LVL56:
 129:Src/scope.c   **** 	s16 cur_act = (s32)g_CmdMap[CMD_CUR_ACT_PU]*(*g_pCur_ref_base_mA)/PU_REFERENCE;
 488              		.loc 1 129 0
 489 003a 1F4B     		ldr	r3, .L33+4
 490 003c B3F84E30 		ldrh	r3, [r3, #78]
 491 0040 1CB2     		sxth	r4, r3
 492 0042 1E4B     		ldr	r3, .L33+8
 493 0044 1B68     		ldr	r3, [r3]
 494 0046 1B68     		ldr	r3, [r3]
 495 0048 03FB04F3 		mul	r3, r3, r4
 496 004c 002B     		cmp	r3, #0
 497 004e 2CDB     		blt	.L32
 498              	.L28:
 499 0050 9C13     		asrs	r4, r3, #14
 500              	.LVL57:
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 12


 130:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = data;	
 501              		.loc 1 130 0
 502 0052 1B4B     		ldr	r3, .L33+12
 503 0054 1A70     		strb	r2, [r3]
 131:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = pos_set & 0xff;
 504              		.loc 1 131 0
 505 0056 5E70     		strb	r6, [r3, #1]
 132:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = (pos_set>>8) & 0xff;
 506              		.loc 1 132 0
 507 0058 4FEA2C22 		asr	r2, ip, #8
 508              	.LVL58:
 509 005c 9A70     		strb	r2, [r3, #2]
 133:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = pos_act & 0xff;
 510              		.loc 1 133 0
 511 005e DD70     		strb	r5, [r3, #3]
 134:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = (pos_act>>8) & 0xff;	
 512              		.loc 1 134 0
 513 0060 3A12     		asrs	r2, r7, #8
 514 0062 1A71     		strb	r2, [r3, #4]
 135:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = g_CmdMap[CMD_TEMP];//�¶�
 515              		.loc 1 135 0
 516 0064 144D     		ldr	r5, .L33+4
 517 0066 B5F85620 		ldrh	r2, [r5, #86]
 518 006a 5A71     		strb	r2, [r3, #5]
 136:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = cur_act & 0xff;
 519              		.loc 1 136 0
 520 006c 9C71     		strb	r4, [r3, #6]
 137:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = (cur_act>>8) & 0xff;	
 521              		.loc 1 137 0
 522 006e 44F30724 		sbfx	r4, r4, #8, #8
 523              	.LVL59:
 524 0072 DC71     		strb	r4, [r3, #7]
 138:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = (0x00) & 0xff;
 525              		.loc 1 138 0
 526 0074 0022     		movs	r2, #0
 527 0076 1A72     		strb	r2, [r3, #8]
 139:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = g_CmdMap[CMD_ERROR];//����	
 528              		.loc 1 139 0
 529 0078 B5F85440 		ldrh	r4, [r5, #84]
 530 007c 5C72     		strb	r4, [r3, #9]
 140:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = (0x00) & 0xff;	//����ֵ���ֽ�
 531              		.loc 1 140 0
 532 007e 9A72     		strb	r2, [r3, #10]
 141:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = (0x00) & 0xff;
 533              		.loc 1 141 0
 534 0080 DA72     		strb	r2, [r3, #11]
 142:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = (0x00) & 0xff;	//����ֵ���ֽ�
 535              		.loc 1 142 0
 536 0082 1A73     		strb	r2, [r3, #12]
 143:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = (0x00) & 0xff;
 537              		.loc 1 143 0
 538 0084 5A73     		strb	r2, [r3, #13]
 144:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = (0x00) & 0xff;	//����ֵ���ֽ�
 539              		.loc 1 144 0
 540 0086 0F24     		movs	r4, #15
 541 0088 0A4D     		ldr	r5, .L33
 542 008a 2C60     		str	r4, [r5]
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 13


 543 008c 9A73     		strb	r2, [r3, #14]
 145:Src/scope.c   **** 	UART_PushFrame_Old(g_TxBuf_Pos,cmd_type,index,&g_UserDefined_TxBuf[0]);	
 544              		.loc 1 145 0
 545 008e 0A46     		mov	r2, r1
 546 0090 0146     		mov	r1, r0
 547              	.LVL60:
 548 0092 2046     		mov	r0, r4
 549              	.LVL61:
 550 0094 FFF7FEFF 		bl	UART_PushFrame_Old
 551              	.LVL62:
 146:Src/scope.c   **** }
 552              		.loc 1 146 0
 553 0098 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 554              	.LVL63:
 555              	.L30:
 127:Src/scope.c   **** 	s16 pos_act = (s32)g_CmdMap[CMD_POS_ACT_PU]*2000/PU_REFERENCE;
 556              		.loc 1 127 0
 557 009a 03F57F53 		add	r3, r3, #16320
 558 009e 3F33     		adds	r3, r3, #63
 559 00a0 BCE7     		b	.L26
 560              	.LVL64:
 561              	.L31:
 128:Src/scope.c   **** 	s16 cur_act = (s32)g_CmdMap[CMD_CUR_ACT_PU]*(*g_pCur_ref_base_mA)/PU_REFERENCE;
 562              		.loc 1 128 0
 563 00a2 03F57F53 		add	r3, r3, #16320
 564 00a6 3F33     		adds	r3, r3, #63
 565 00a8 C5E7     		b	.L27
 566              	.LVL65:
 567              	.L32:
 129:Src/scope.c   **** 	g_UserDefined_TxBuf[g_TxBuf_Pos++] = data;	
 568              		.loc 1 129 0
 569 00aa 03F57F53 		add	r3, r3, #16320
 570 00ae 3F33     		adds	r3, r3, #63
 571 00b0 CEE7     		b	.L28
 572              	.L34:
 573 00b2 00BF     		.align	2
 574              	.L33:
 575 00b4 00000000 		.word	.LANCHOR0
 576 00b8 00000000 		.word	g_CmdMap
 577 00bc 00000000 		.word	g_pCur_ref_base_mA
 578 00c0 00000000 		.word	.LANCHOR1
 579              		.cfi_endproc
 580              	.LFE337:
 582              		.section	.text.Return_OldFrame_data,"ax",%progbits
 583              		.align	1
 584              		.global	Return_OldFrame_data
 585              		.syntax unified
 586              		.thumb
 587              		.thumb_func
 588              		.fpu fpv4-sp-d16
 590              	Return_OldFrame_data:
 591              	.LFB338:
 147:Src/scope.c   **** //����LA��ָ��-д�Ĵ���,���ذ���״̬��Ϣ
 148:Src/scope.c   **** void Return_OldFrame_data(u8 cmd_type,u8 index,u8 length) 
 149:Src/scope.c   **** {
 592              		.loc 1 149 0
 593              		.cfi_startproc
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 14


 594              		@ args = 0, pretend = 0, frame = 0
 595              		@ frame_needed = 0, uses_anonymous_args = 0
 596              	.LVL66:
 597 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 598              	.LCFI5:
 599              		.cfi_def_cfa_offset 24
 600              		.cfi_offset 3, -24
 601              		.cfi_offset 4, -20
 602              		.cfi_offset 5, -16
 603              		.cfi_offset 6, -12
 604              		.cfi_offset 7, -8
 605              		.cfi_offset 14, -4
 606              	.LVL67:
 150:Src/scope.c   **** 	//ֱ��д���µ�һ֡	
 151:Src/scope.c   **** 	s16 i=0;	
 152:Src/scope.c   **** 	g_TxBuf_Pos = 0;
 607              		.loc 1 152 0
 608 0002 0023     		movs	r3, #0
 609 0004 3E4C     		ldr	r4, .L57
 610 0006 2360     		str	r3, [r4]
 611              	.LVL68:
 153:Src/scope.c   **** 	s32 data_temp = 0;
 154:Src/scope.c   **** 	for(i=0;i<length;i++)
 612              		.loc 1 154 0
 613 0008 09E0     		b	.L36
 614              	.LVL69:
 615              	.L49:
 155:Src/scope.c   **** 	{
 156:Src/scope.c   **** 		if(index+i == 2)//ID
 157:Src/scope.c   **** 		{
 158:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = g_CmdMap[CMD_ID];
 616              		.loc 1 158 0
 617 000a 3E4C     		ldr	r4, .L57+4
 618 000c A689     		ldrh	r6, [r4, #12]
 619 000e 3C4D     		ldr	r5, .L57
 620 0010 2C68     		ldr	r4, [r5]
 621 0012 671C     		adds	r7, r4, #1
 622 0014 2F60     		str	r7, [r5]
 623 0016 3C4D     		ldr	r5, .L57+8
 624 0018 2E55     		strb	r6, [r5, r4]
 625              	.L38:
 154:Src/scope.c   **** 	{
 626              		.loc 1 154 0 discriminator 2
 627 001a 0133     		adds	r3, r3, #1
 628              	.LVL70:
 629 001c 1BB2     		sxth	r3, r3
 630              	.LVL71:
 631              	.L36:
 154:Src/scope.c   **** 	{
 632              		.loc 1 154 0 is_stmt 0 discriminator 1
 633 001e 9342     		cmp	r3, r2
 634 0020 66DA     		bge	.L48
 156:Src/scope.c   **** 		{
 635              		.loc 1 156 0 is_stmt 1
 636 0022 CC18     		adds	r4, r1, r3
 637 0024 022C     		cmp	r4, #2
 638 0026 F0D0     		beq	.L49
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 15


 159:Src/scope.c   **** 		}
 160:Src/scope.c   **** 		else if(index+i == 12)//������
 639              		.loc 1 160 0
 640 0028 0C2C     		cmp	r4, #12
 641 002a 11D0     		beq	.L50
 161:Src/scope.c   **** 		{
 162:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = g_CmdMap[CMD_BAUDRATE_UART];
 163:Src/scope.c   **** 		}
 164:Src/scope.c   **** 		else if(index+i == 31)//��������У׼λ
 642              		.loc 1 164 0
 643 002c 1F2C     		cmp	r4, #31
 644 002e F4D0     		beq	.L38
 165:Src/scope.c   **** 		{
 166:Src/scope.c   **** 			
 167:Src/scope.c   **** 		}
 168:Src/scope.c   **** 		else if(index+i == 32)//��������ֵ���ֽ�
 645              		.loc 1 168 0
 646 0030 202C     		cmp	r4, #32
 647 0032 16D0     		beq	.L51
 169:Src/scope.c   **** 		{
 170:Src/scope.c   **** 			data_temp = (s32)g_CmdMap[CMD_OVER_CURRENT_SET]*(*g_pCur_ref_base_mA)/PU_REFERENCE;
 171:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 172:Src/scope.c   **** 			//g_UserDefined_TxBuf[g_TxBuf_Pos++] = (data_temp>>8)&0x00FF;
 173:Src/scope.c   **** 		}
 174:Src/scope.c   **** 		else if(index+i == 33)//��������ֵ���ֽ�
 648              		.loc 1 174 0
 649 0034 212C     		cmp	r4, #33
 650 0036 2AD0     		beq	.L52
 175:Src/scope.c   **** 		{
 176:Src/scope.c   **** 			data_temp = (s32)g_CmdMap[CMD_OVER_CURRENT_SET]*(*g_pCur_ref_base_mA)/PU_REFERENCE;
 177:Src/scope.c   **** 			//g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 178:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = (data_temp>>8)&0x00FF;
 179:Src/scope.c   **** 		}
 180:Src/scope.c   **** 		else if(index+i == 98)//���±���ֵ���ֽ�
 651              		.loc 1 180 0
 652 0038 622C     		cmp	r4, #98
 653 003a 3ED0     		beq	.L53
 181:Src/scope.c   **** 		{
 182:Src/scope.c   **** 			data_temp = (g_CmdMap[CMD_OVER_TEMP_SET]*10);
 183:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 184:Src/scope.c   **** 			//g_UserDefined_TxBuf[g_TxBuf_Pos++] = (data_temp>>8)&0x00FF;
 185:Src/scope.c   **** 		}
 186:Src/scope.c   **** 		else if(index+i == 99)//���±���ֵ���ֽ�
 654              		.loc 1 186 0
 655 003c 632C     		cmp	r4, #99
 656 003e 49D0     		beq	.L54
 187:Src/scope.c   **** 		{
 188:Src/scope.c   **** 			data_temp = (g_CmdMap[CMD_OVER_TEMP_SET]*10);
 189:Src/scope.c   **** 			//g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 190:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = (data_temp>>8)&0x00FF;
 191:Src/scope.c   **** 		}
 192:Src/scope.c   **** 		else
 193:Src/scope.c   **** 		{
 194:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = 0;
 657              		.loc 1 194 0
 658 0040 2F4D     		ldr	r5, .L57
 659 0042 2C68     		ldr	r4, [r5]
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 16


 660 0044 661C     		adds	r6, r4, #1
 661 0046 2E60     		str	r6, [r5]
 662 0048 2F4D     		ldr	r5, .L57+8
 663 004a 0026     		movs	r6, #0
 664 004c 2E55     		strb	r6, [r5, r4]
 665 004e E4E7     		b	.L38
 666              	.L50:
 162:Src/scope.c   **** 		}
 667              		.loc 1 162 0
 668 0050 2C4C     		ldr	r4, .L57+4
 669 0052 E689     		ldrh	r6, [r4, #14]
 670 0054 2A4D     		ldr	r5, .L57
 671 0056 2C68     		ldr	r4, [r5]
 672 0058 671C     		adds	r7, r4, #1
 673 005a 2F60     		str	r7, [r5]
 674 005c 2A4D     		ldr	r5, .L57+8
 675 005e 2E55     		strb	r6, [r5, r4]
 676 0060 DBE7     		b	.L38
 677              	.L51:
 170:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 678              		.loc 1 170 0
 679 0062 284C     		ldr	r4, .L57+4
 680 0064 248C     		ldrh	r4, [r4, #32]
 681 0066 25B2     		sxth	r5, r4
 682 0068 284C     		ldr	r4, .L57+12
 683 006a 2468     		ldr	r4, [r4]
 684 006c 2468     		ldr	r4, [r4]
 685 006e 04FB05F4 		mul	r4, r4, r5
 686 0072 002C     		cmp	r4, #0
 687 0074 07DB     		blt	.L55
 688              	.L41:
 689 0076 A413     		asrs	r4, r4, #14
 690              	.LVL72:
 171:Src/scope.c   **** 			//g_UserDefined_TxBuf[g_TxBuf_Pos++] = (data_temp>>8)&0x00FF;
 691              		.loc 1 171 0
 692 0078 214E     		ldr	r6, .L57
 693 007a 3568     		ldr	r5, [r6]
 694 007c 6F1C     		adds	r7, r5, #1
 695 007e 3760     		str	r7, [r6]
 696 0080 214E     		ldr	r6, .L57+8
 697 0082 7455     		strb	r4, [r6, r5]
 698 0084 C9E7     		b	.L38
 699              	.LVL73:
 700              	.L55:
 170:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 701              		.loc 1 170 0
 702 0086 04F57F54 		add	r4, r4, #16320
 703 008a 3F34     		adds	r4, r4, #63
 704 008c F3E7     		b	.L41
 705              	.L52:
 176:Src/scope.c   **** 			//g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 706              		.loc 1 176 0
 707 008e 1D4C     		ldr	r4, .L57+4
 708 0090 248C     		ldrh	r4, [r4, #32]
 709 0092 25B2     		sxth	r5, r4
 710 0094 1D4C     		ldr	r4, .L57+12
 711 0096 2468     		ldr	r4, [r4]
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 17


 712 0098 2468     		ldr	r4, [r4]
 713 009a 04FB05F4 		mul	r4, r4, r5
 714 009e 002C     		cmp	r4, #0
 715 00a0 07DB     		blt	.L56
 716              	.L43:
 717              	.LVL74:
 178:Src/scope.c   **** 		}
 718              		.loc 1 178 0
 719 00a2 A415     		asrs	r4, r4, #22
 720              	.LVL75:
 721 00a4 164E     		ldr	r6, .L57
 722 00a6 3568     		ldr	r5, [r6]
 723 00a8 6F1C     		adds	r7, r5, #1
 724 00aa 3760     		str	r7, [r6]
 725 00ac 164E     		ldr	r6, .L57+8
 726 00ae 7455     		strb	r4, [r6, r5]
 727 00b0 B3E7     		b	.L38
 728              	.L56:
 176:Src/scope.c   **** 			//g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 729              		.loc 1 176 0
 730 00b2 04F57F54 		add	r4, r4, #16320
 731 00b6 3F34     		adds	r4, r4, #63
 732 00b8 F3E7     		b	.L43
 733              	.L53:
 182:Src/scope.c   **** 			g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 734              		.loc 1 182 0
 735 00ba 124C     		ldr	r4, .L57+4
 736 00bc A48B     		ldrh	r4, [r4, #28]
 737 00be 24B2     		sxth	r4, r4
 738 00c0 04EB8404 		add	r4, r4, r4, lsl #2
 739 00c4 6500     		lsls	r5, r4, #1
 740              	.LVL76:
 183:Src/scope.c   **** 			//g_UserDefined_TxBuf[g_TxBuf_Pos++] = (data_temp>>8)&0x00FF;
 741              		.loc 1 183 0
 742 00c6 0E4E     		ldr	r6, .L57
 743 00c8 3468     		ldr	r4, [r6]
 744 00ca 671C     		adds	r7, r4, #1
 745 00cc 3760     		str	r7, [r6]
 746 00ce 0E4E     		ldr	r6, .L57+8
 747 00d0 3555     		strb	r5, [r6, r4]
 748 00d2 A2E7     		b	.L38
 749              	.LVL77:
 750              	.L54:
 188:Src/scope.c   **** 			//g_UserDefined_TxBuf[g_TxBuf_Pos++] = data_temp&0x00FF;
 751              		.loc 1 188 0
 752 00d4 0B4C     		ldr	r4, .L57+4
 753 00d6 A48B     		ldrh	r4, [r4, #28]
 754 00d8 24B2     		sxth	r4, r4
 755 00da 04EB8404 		add	r4, r4, r4, lsl #2
 756 00de 6500     		lsls	r5, r4, #1
 757              	.LVL78:
 190:Src/scope.c   **** 		}
 758              		.loc 1 190 0
 759 00e0 2D12     		asrs	r5, r5, #8
 760              	.LVL79:
 761 00e2 074E     		ldr	r6, .L57
 762 00e4 3468     		ldr	r4, [r6]
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 18


 763              	.LVL80:
 764 00e6 671C     		adds	r7, r4, #1
 765 00e8 3760     		str	r7, [r6]
 766 00ea 074E     		ldr	r6, .L57+8
 767 00ec 3555     		strb	r5, [r6, r4]
 768 00ee 94E7     		b	.L38
 769              	.L48:
 195:Src/scope.c   **** 		}	
 196:Src/scope.c   **** 	}
 197:Src/scope.c   **** 	UART_PushFrame_Old(g_TxBuf_Pos,cmd_type,index,&g_UserDefined_TxBuf[0]);	
 770              		.loc 1 197 0
 771 00f0 054B     		ldr	r3, .L57+8
 772              	.LVL81:
 773 00f2 0A46     		mov	r2, r1
 774              	.LVL82:
 775 00f4 0146     		mov	r1, r0
 776              	.LVL83:
 777 00f6 0248     		ldr	r0, .L57
 778              	.LVL84:
 779 00f8 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 780 00fa FFF7FEFF 		bl	UART_PushFrame_Old
 781              	.LVL85:
 198:Src/scope.c   **** }
 782              		.loc 1 198 0
 783 00fe F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 784              	.L58:
 785              		.align	2
 786              	.L57:
 787 0100 00000000 		.word	.LANCHOR0
 788 0104 00000000 		.word	g_CmdMap
 789 0108 00000000 		.word	.LANCHOR1
 790 010c 00000000 		.word	g_pCur_ref_base_mA
 791              		.cfi_endproc
 792              	.LFE338:
 794              		.global	g_bWaitToSend_UserDefined
 795              		.global	g_TxBufDebug
 796              		.global	g_TxBuf_Pos
 797              		.global	g_Rec_pos
 798              		.global	g_UserDefined_TxBuf
 799              		.global	modbus_rly_delay_ms
 800              		.global	flag_rev_modbus
 801              		.global	g_UserDefinedBuf
 802              		.section	.bss.flag_rev_modbus,"aw",%nobits
 805              	flag_rev_modbus:
 806 0000 00       		.space	1
 807              		.section	.bss.g_Rec_pos,"aw",%nobits
 808              		.align	2
 811              	g_Rec_pos:
 812 0000 00000000 		.space	4
 813              		.section	.bss.g_TxBufDebug,"aw",%nobits
 814              		.align	2
 817              	g_TxBufDebug:
 818 0000 00000000 		.space	4
 819              		.section	.bss.g_TxBuf_Pos,"aw",%nobits
 820              		.align	2
 821              		.set	.LANCHOR0,. + 0
 824              	g_TxBuf_Pos:
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 19


 825 0000 00000000 		.space	4
 826              		.section	.bss.g_UserDefinedBuf,"aw",%nobits
 827              		.align	2
 830              	g_UserDefinedBuf:
 831 0000 00000000 		.space	200
 831      00000000 
 831      00000000 
 831      00000000 
 831      00000000 
 832              		.section	.bss.g_UserDefined_TxBuf,"aw",%nobits
 833              		.align	2
 834              		.set	.LANCHOR1,. + 0
 837              	g_UserDefined_TxBuf:
 838 0000 00000000 		.space	80
 838      00000000 
 838      00000000 
 838      00000000 
 838      00000000 
 839              		.section	.bss.g_bWaitToSend_UserDefined,"aw",%nobits
 842              	g_bWaitToSend_UserDefined:
 843 0000 00       		.space	1
 844              		.section	.bss.modbus_rly_delay_ms,"aw",%nobits
 845              		.align	1
 848              	modbus_rly_delay_ms:
 849 0000 0000     		.space	2
 850              		.text
 851              	.Letext0:
 852              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 853              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 854              		.file 4 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
 855              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 856              		.file 6 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/system_stm32g4xx.h"
 857              		.file 7 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g431xx.h"
 858              		.file 8 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g4xx.h"
 859              		.file 9 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 860              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_dma.h"
 861              		.file 11 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_adc.h"
 862              		.file 12 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_flash.h"
 863              		.file 13 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_spi.h"
 864              		.file 14 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_tim.h"
 865              		.file 15 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_uart.h"
 866              		.file 16 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 867              		.file 17 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 868              		.file 18 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\lib\\gcc\\arm-none-ea
 869              		.file 19 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 870              		.file 20 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
 871              		.file 21 "Inc/uart.h"
 872              		.file 22 "Inc/pwm.h"
 873              		.file 23 "Inc/spi_MEncoder.h"
 874              		.file 24 "Inc/adc.h"
 875              		.file 25 "Inc/stm32_math_sin.h"
 876              		.file 26 "Inc/pid.h"
 877              		.file 27 "Inc/profile_joint.h"
 878              		.file 28 "Inc/icmu.h"
 879              		.file 29 "Inc/performance_test.h"
 880              		.file 30 "Inc/global.h"
ARM GAS  C:\Users\82057\AppData\Local\Temp\cctzwc1b.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 scope.c
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:18     .text.ScopeProDebug:00000000 $t
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:25     .text.ScopeProDebug:00000000 ScopeProDebug
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:135    .text.ScopeProDebug:0000008c $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:148    .text.ScopeProDebug_2:00000000 $t
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:155    .text.ScopeProDebug_2:00000000 ScopeProDebug_2
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:230    .text.ScopeProDebug_2:00000058 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:239    .text.ReturnCLibADC_Frame:00000000 $t
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:246    .text.ReturnCLibADC_Frame:00000000 ReturnCLibADC_Frame
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:303    .text.ReturnCLibADC_Frame:00000040 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:311    .text.Return_state_frame:00000000 $t
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:318    .text.Return_state_frame:00000000 Return_state_frame
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:430    .text.Return_state_frame:00000094 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:437    .text.Return_OldFrame_state:00000000 $t
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:444    .text.Return_OldFrame_state:00000000 Return_OldFrame_state
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:575    .text.Return_OldFrame_state:000000b4 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:583    .text.Return_OldFrame_data:00000000 $t
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:590    .text.Return_OldFrame_data:00000000 Return_OldFrame_data
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:787    .text.Return_OldFrame_data:00000100 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:842    .bss.g_bWaitToSend_UserDefined:00000000 g_bWaitToSend_UserDefined
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:817    .bss.g_TxBufDebug:00000000 g_TxBufDebug
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:824    .bss.g_TxBuf_Pos:00000000 g_TxBuf_Pos
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:811    .bss.g_Rec_pos:00000000 g_Rec_pos
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:837    .bss.g_UserDefined_TxBuf:00000000 g_UserDefined_TxBuf
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:848    .bss.modbus_rly_delay_ms:00000000 modbus_rly_delay_ms
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:805    .bss.flag_rev_modbus:00000000 flag_rev_modbus
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:830    .bss.g_UserDefinedBuf:00000000 g_UserDefinedBuf
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:806    .bss.flag_rev_modbus:00000000 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:808    .bss.g_Rec_pos:00000000 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:814    .bss.g_TxBufDebug:00000000 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:820    .bss.g_TxBuf_Pos:00000000 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:827    .bss.g_UserDefinedBuf:00000000 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:833    .bss.g_UserDefined_TxBuf:00000000 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:843    .bss.g_bWaitToSend_UserDefined:00000000 $d
C:\Users\82057\AppData\Local\Temp\cctzwc1b.s:845    .bss.modbus_rly_delay_ms:00000000 $d

UNDEFINED SYMBOLS
UART_PushFrame
g_CmdMap
g_IA_Raw
g_pCur_ref_base_mA
g_IB_Raw
g_ElectricAngle
g_SysStatus
MU_Value_base_0
UART_PushFrame_Old
